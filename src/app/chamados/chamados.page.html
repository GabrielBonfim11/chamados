<ion-header class="ion-no-border">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/login" text="" icon="chevron-back-outline"></ion-back-button>
    </ion-buttons>
    <ion-title class="ion-text-center">{{ getTabTitle() }}</ion-title>
    <ion-buttons slot="end">
      <ion-button style="visibility: hidden">
        <ion-icon name="chevron-back-outline"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="navegarParaCriarChamado()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  
  <ion-tabs>
    <!-- Conteúdo das tabs -->
    <ion-tab tab="abertos">
      <div class="chamados-container">
        <div class="chamados-list">
          <div class="chamado-card" *ngFor="let chamado of getChamadosAbertos()">
            <div class="chamado-header">
              <div class="chamado-titulo-container">
                <h3>{{ chamado.titulo }}</h3>
                <p class="chamado-descricao">{{ chamado.descricao }}</p>
              </div>
              <span class="chamado-prioridade" [ngClass]="chamado.prioridade.toLowerCase()">{{ chamado.prioridade }}</span>
            </div>
            <div class="chamado-footer">
              <div class="chamado-info">
                <span class="chamado-data">{{ chamado.data }}</span>
                <span class="chamado-id">#{{ chamado.id }}</span>
              </div>
              <div class="chamado-actions">
                <button class="action-button" (click)="navegarParaDetalhes(chamado.id)">
                  <ion-icon name="eye-outline"></ion-icon>
                </button>
              </div>
            </div>
          </div>
          <div class="empty-state" *ngIf="getChamadosAbertos().length === 0">
            <p>Não há chamados abertos no momento.</p>
          </div>
        </div>
      </div>
    </ion-tab>
    
    <ion-tab tab="em-andamento">
      <div class="chamados-container">
        <div class="chamados-list">
          <div class="chamado-card" *ngFor="let chamado of getChamadosEmAndamento()">
            <div class="chamado-header">
              <div class="chamado-titulo-container">
                <h3>{{ chamado.titulo }}</h3>
                <p class="chamado-descricao">{{ chamado.descricao }}</p>
              </div>
              <span class="chamado-prioridade" [ngClass]="chamado.prioridade.toLowerCase()">{{ chamado.prioridade }}</span>
            </div>
            <div class="chamado-footer">
              <div class="chamado-info">
                <span class="chamado-data">{{ chamado.data }}</span>
                <span class="chamado-id">#{{ chamado.id }}</span>
              </div>
              <div class="chamado-actions">
                <button class="action-button" (click)="navegarParaDetalhes(chamado.id)">
                  <ion-icon name="eye-outline"></ion-icon>
                </button>
              </div>
            </div>
          </div>
          <div class="empty-state" *ngIf="getChamadosEmAndamento().length === 0">
            <p>Não há chamados em andamento no momento.</p>
          </div>
        </div>
      </div>
    </ion-tab>
    
    <ion-tab tab="concluidos">
      <div class="chamados-container">
        <div class="chamados-list">
          <div class="chamado-card" *ngFor="let chamado of getChamadosConcluidos()">
            <div class="chamado-header">
              <div class="chamado-titulo-container">
                <h3>{{ chamado.titulo }}</h3>
                <p class="chamado-descricao">{{ chamado.descricao }}</p>
              </div>
              <span class="chamado-prioridade" [ngClass]="chamado.prioridade.toLowerCase()">{{ chamado.prioridade }}</span>
            </div>
            <div class="chamado-footer">
              <div class="chamado-info">
                <span class="chamado-data">{{ chamado.data }}</span>
                <span class="chamado-id">#{{ chamado.id }}</span>
              </div>
              <div class="chamado-actions">
                <button class="action-button" (click)="navegarParaDetalhes(chamado.id)">
                  <ion-icon name="eye-outline"></ion-icon>
                </button>
              </div>
            </div>
          </div>
          <div class="empty-state" *ngIf="getChamadosConcluidos().length === 0">
            <p>Não há chamados concluídos no momento.</p>
          </div>
        </div>
      </div>
    </ion-tab>
    
    <!-- Menu de tabs na parte inferior - Design do Figma -->
    <ion-tab-bar slot="bottom">
      <ion-tab-button tab="abertos" (click)="setCurrentTab('abertos')">
        <div class="tab-content">
          <ion-badge *ngIf="getChamadosAbertos().length > 0">{{ getChamadosAbertos().length }}</ion-badge>
          <ion-icon name="document-text-outline"></ion-icon>
          <ion-label>Abertos</ion-label>
        </div>
      </ion-tab-button>
      
      <ion-tab-button tab="em-andamento" (click)="setCurrentTab('em-andamento')">
        <div class="tab-content">
          <ion-badge *ngIf="getChamadosEmAndamento().length > 0">{{ getChamadosEmAndamento().length }}</ion-badge>
          <ion-icon name="time-outline"></ion-icon>
          <ion-label>Em Andamento</ion-label>
        </div>
      </ion-tab-button>
      
      <ion-tab-button tab="concluidos" (click)="setCurrentTab('concluidos')">
        <div class="tab-content">
          <ion-badge *ngIf="getChamadosConcluidos().length > 0">{{ getChamadosConcluidos().length }}</ion-badge>
          <ion-icon name="checkmark-done-outline"></ion-icon>
          <ion-label>Concluídos</ion-label>
        </div>
      </ion-tab-button>
    </ion-tab-bar>
  </ion-tabs>
</ion-content>